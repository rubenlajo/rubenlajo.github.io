(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1309:function(e,t,n){"use strict";var a=n(5),r=n(0),i=n.n(r),o=n(52);n(1314);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s(e){var t=e.title,n=e.visible,c=e.onClose,s=e.closeIcon,u=e.children,f=e.showArrowClose,m=e.onSearch,d=e.searchText,b=e.className,g=e.onEdit,h=e.onDelete,v=e.footer,p=l(Object(r.useState)(!1),2),y=p[0],E=p[1];return i.a.createElement(i.a.Fragment,null,n?i.a.createElement("div",{className:"mobile-slide-panel_overlay",onClick:function(){f&&c()}}):null,i.a.createElement("div",{className:"mobile-slide-panel ".concat(b," ").concat(n?"is-open":"")},i.a.createElement("div",{className:"mobile-slide-panel_title ".concat(y?"search-active":"")},y?i.a.createElement(i.a.Fragment,null,i.a.createElement(o.s,{label:a.b.formatMessage({id:"shared.mobile-slide-panel.search"}),onChange:function(e){return m(e)},value:d}),i.a.createElement(o.i,{icon:"sga-icon-times",onClick:function(){E(!1),m("")},size:"size-xs"})):i.a.createElement(i.a.Fragment,null,f?i.a.createElement(o.i,{icon:s||"sga-icon-arrow-down",onClick:function(){c()},size:"size-s"}):null,i.a.createElement("div",{className:"title-text"},t),m?i.a.createElement(o.i,{icon:"sga-icon-search",onClick:function(){return E(!0)},size:"size-xs"}):null,g?i.a.createElement(o.i,{icon:"sga-icon-edit",onClick:function(){return g()},size:"size-xs"}):null,h?i.a.createElement(o.i,{icon:"sga-icon-trash",onClick:function(){return h()},size:"size-xs"}):null)),i.a.createElement("div",{className:"mobile-slide-panel_content"},u),v?i.a.createElement("footer",{className:"footer"},v):null))}s.defaultProps={className:"",visible:!1,onClose:function(){},closeIcon:null,searchText:"",title:"title",showArrowClose:!0,footer:null},t.a=s},1314:function(e,t,n){},1317:function(e,t,n){},1318:function(e,t,n){},1319:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(59),o=n(5),l=n(52),c=n(387),s=n(66),u=n.n(s),f=n(67),m=n.n(f),d=n(34),b=n(94),g=n(14),h=function(e){var t=Object(d.a)((function(e){return{userNames:b.i(e),userNamesLoading:b.j(e)}}),(function(e){return{fetchUserNames:function(t){return e(g.g(t))}}}))(e);return m()(u()(e,"withUserNames"))(t)},v=n(1311),p=n(1309),y=(n(1317),n(389));var E=function(e){var t=e.name,n=e.login,a=e.progress,i=e.selected,o=e.onSelect;return r.a.createElement("div",{className:"assign-user-list-item",onClick:function(){return o()}},r.a.createElement(y.a,{className:"assign-user-avatar",users:[{login:n,name:t}]}),r.a.createElement("div",{className:"assign-user-list-content"},r.a.createElement("div",{className:"assign-user-name"},t),r.a.createElement("div",{className:"assign-user-progress"},r.a.createElement(l.g,{label:a,color:"var(--color-neutral100, #B5B5B5)",backgroundColor:"var(--color-neutral600, #363636)",info:!0}))),r.a.createElement(l.n,{label:"",value:i}))},k=n(20);n(1318);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.a=Object(c.a)(Object(v.a)(h((function(e){var t=e.visible,n=e.close,c=e.onSelect,s=e.centerSelected,u=e.fetchWarehouseMovementTechnicians,f=e.technicians,m=e.clearWarhouseMovementTechnicians,d=e.fetchUserNames,b=e.userNames,g=w(Object(a.useState)(""),2),h=g[0],v=g[1],y=w(Object(a.useState)(!1),2),C=y[0],M=y[1];Object(a.useEffect)((function(){s&&!f.requestDone&&!f.fetching&&t&&u(s.centerId)}),[s,f,t]);var j=Object(i.c)((function(e){return e.application.userNamesLoading}));return Object(a.useEffect)((function(){var e;if((null==f||null===(e=f.list)||void 0===e?void 0:e.length)>0){var t,n=[];null===(t=f.list)||void 0===t||t.forEach((function(e){e.technnician&&e.technnician.technnicianLogin&&n.push(e.technnician.technnicianLogin)})),(null==n?void 0:n.length)>0&&!j&&d(n)}}),[f]),r.a.createElement(p.a,{className:"assign-pannel",title:o.b.formatMessage({id:"stock.routes.pda.assign-warehouse-movement"}),visible:t,onClose:function(){n(),m()},searchText:h,onSearch:function(e){return v(e)}},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"technicians-list"},f.list.filter((function(e){return!h||(e.technnician.technnicianName.toLowerCase().includes(h.toLowerCase())||e.technnician.technnicianLogin.toLowerCase().includes(h.toLowerCase()))})).map((function(e){var t=e.technnician,n=e.assignmentsTotalNum,a=e.assignmentsMaxNum;return r.a.createElement(E,{key:t.technnicianLogin,login:t.technnicianLogin,name:Object(k.k)(b,t.technnicianLogin)||"A A",progress:"".concat(n,"/").concat(a," ").concat(o.b.formatMessage({id:"stock.pda.work-order-detail.assign.executed-orders"})),selected:C&&C.technnicianLogin===t.technnicianLogin,onSelect:function(){return M(t)}})}))),0===f.list.length&&f.requestDone?r.a.createElement("div",{className:"no-technicians-found-msg"},r.a.createElement(o.a,{id:"stock.pda.work-order.assign.no-technicians-msg"})):null,r.a.createElement(l.d,{kind:"primary",disabled:!C,className:"technician-assign-btn",onClick:function(){c(C.technnicianLogin)},label:"Asignar"})))}))))},1324:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(5),o=n(1320),l=n(52),c=n(1309);t.a=function(e){var t=e.visible,n=e.onClose,a=e.onExecute,s=e.onAssign;return r.a.createElement(c.a,{title:i.b.formatMessage({id:"stock.pda.transfer-material.transfer-panel.title"}),visible:t,onClose:n,showArrowClose:!1,className:"mobile-slide-pannel_transfer-material"},r.a.createElement(o.b,null,r.a.createElement(o.a,{className:"align-center"},r.a.createElement(i.a,{id:"stock.pda.transfer-material.transfer-panel.execute"}))),r.a.createElement(o.b,null,r.a.createElement(o.a,null,r.a.createElement(l.d,{kind:"primary",icon:"",className:"btn align-center",disabled:!a,onClick:function(){return a?a():null},label:i.b.formatMessage({id:"stock.pda.transfer-material.transfer-panel.yes-execute"})}),r.a.createElement(l.d,{kind:"secondary",icon:"",className:"btn align-center",onClick:function(){return s?s():null},label:i.b.formatMessage({id:"stock.pda.transfer-material.transfer-panel.no-assign"})}),r.a.createElement(l.d,{kind:"tertiary",className:"btn align-center",onClick:function(){return n()},label:i.b.formatMessage({id:"stock.pda.transfer-material.transfer-panel.cancel"})}))))}},1344:function(e,t,n){},1359:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),o=n(162),l=n(1315),c=n(52),s=n(1316),u=n(387),f=n(1311),m=n(1320),d=n(1309);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var h=function(e){var t=e.visible,n=e.onClose,o=e.materialEditing,l=e.onChangeUnitsConfirm,s=e.onRemoveLocation,u=e.disableRemove,f=b(Object(a.useState)(o.unitsToTraspase),2),g=f[0],h=f[1],v=o.locationStock>=g&&g>0;return r.a.createElement(d.a,{title:i.b.formatMessage({id:"stock.pda.transfer-material.transfer-units-modify"}),visible:t,onClose:n,showArrowClose:!1},r.a.createElement(m.b,null,r.a.createElement(m.a,null,r.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.transfer-material.reference"}),subtitle:o.materialId})),r.a.createElement(m.a,null,r.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.transfer-material.total-units"}),subtitle:o.locationStock}))),r.a.createElement(m.b,null,r.a.createElement(m.a,null,r.a.createElement(c.m,{label:i.b.formatMessage({id:"stock.pda.transfer-material.units-to-transfer"}),value:g,onChange:function(e){return h(e)},errors:v?[]:[i.b.formatMessage({id:"stock.pda.transfer.qty-not-valid"})]}))),r.a.createElement(m.b,null,r.a.createElement(m.a,null,r.a.createElement(c.d,{kind:"primary",icon:"",className:"btn align-center",disabled:!v,onClick:function(){return l(g)},label:i.b.formatMessage({id:"stock.pda.transfer-material.modify-units"})}),r.a.createElement(c.d,{kind:"secondary",icon:"",className:"btn align-center",disabled:u,onClick:s,label:i.b.formatMessage({id:"stock.pda.transfer-material.remove-material"})}),r.a.createElement(c.d,{kind:"tertiary",className:"btn align-center",onClick:n,label:i.b.formatMessage({id:"stock.pda.transfer-material.cancel"})}))))},v=n(1319),p=n(1324);n(1344);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=Object(l.b)(Object(u.a)(Object(f.a)((function(e){var t=e.centerSelected,n=e.match,l=e.location,u=e.fetchLocationById,f=e.locationMaterials,m=e.fetchLocationMaterials,d=e.setMaterialEditing,b=e.materialEditing,g=e.createWhTransferLocationConfirmUnits,E=e.createWhMTransferRemoveReference,k=e.createWhMTransferLocation,w=e.warehouseMovementsCreated,C=e.assignWarehouseMovement,M=e.user,j=e.addNotification,N=e.redirectToExec,S=e.clearCreatedWarehouseMovement,O=y(Object(a.useState)(!1),2),A=O[0],I=O[1],T=y(Object(a.useState)(!1),2),x=T[0],L=T[1],z=y(Object(a.useState)(!1),2),U=z[0],R=z[1];Object(a.useEffect)((function(){t&&u(t.centerId,n.params.locationId)}),[t]),Object(a.useEffect)((function(){l&&t&&f.haveMore&&!f.fetching&&m(t.centerId,l.locationId,{offset:f.offset,limit:f.limit},!0)}),[l,f]);var W=function(){return o.b.push("/stock/pda/locations/".concat(n.params.locationId))};Object(a.useEffect)((function(){null!==w&&L(!0)}),[w]),Object(a.useEffect)((function(){if(N&&null!==w){var e=w[0];o.b.push("/stock/pda/warehouse-movements-exec-traspase/".concat(e.warehouseMovementId)),L(!1)}}),[N]);var B=function(){var e=w[0];C(t.centerId,e.warehouseMovementId,M.login,i.b.formatMessage({id:"stock.routes.pda.transfer"}),!0)},F=function(e){w&&1===w.length&&C(t.centerId,w[0].warehouseMovementId,e,i.b.formatMessage({id:"stock.routes.pda.transfer"})),R(!1),L(!1),W()};return r.a.createElement(s.a,{className:"transfer-location-page-mobile",breadcrumb:i.b.formatMessage({id:"stock.pda.transfer-location.page.title"}),onBack:function(){return W()},contentScroll:!1,onPageActionsClose:function(){},resourceName:"warehouseMovmementExecTransferPage"},r.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.transfer-location.location"}),subtitle:l&&l.locationName||"-"}),r.a.createElement("div",{className:"materials-list"},0===f.list.length?r.a.createElement("div",{className:"flex halign-center valign-center h100"},r.a.createElement(i.a,{id:"stock.pda.transfer-location.no-references"})):f.list.map((function(e){return r.a.createElement(c.o,{key:e.materialId,title:e?e.manufacturerReference:"-",subtitle:i.b.formatMessage({id:"stock.pda.transfer-material.units-to-transfer-in"}),number:e.unitsToTraspase||"00",icon:"sga-icon-pen-alt",onActionClicked:function(){d(e),setTimeout((function(){return I(!0)}),50)},disabledIcon:!e.locationStock||0===e.locationStock})}))),r.a.createElement(c.d,{className:"w100",kind:"primary",size:"size-s",disabled:0===f.list.length,onClick:function(){return k(t.centerId,l.locationId,f.list)},label:i.b.formatMessage({id:"stock.pda.transfer-material.page.title"})}),b?r.a.createElement(h,{visible:A,onClose:function(){I(!1),setTimeout((function(){return d(null)}),50)},materialEditing:b,onChangeUnitsConfirm:function(e){I(!1),setTimeout((function(){g(e)}),50)},onRemoveLocation:function(){I(!1),setTimeout((function(){return E(b.materialId)}),50)},disableRemove:f.list.length<2}):null,r.a.createElement(p.a,{visible:x,onClose:function(){var e=w[0];L(!1),w&&1===w.length&&j({type:"success",fadeout:!0,content:i.b.formatMessage({id:"stock.reactions.pda.transfer-location.created"}).replace("XwarehouseMovementIdX",e.warehouseMovementId)}),S(),W()},onExecute:B,onAssign:function(){L(!1),R(!0)}}),r.a.createElement(v.a,{visible:U,close:function(){return R(!1)},onSelect:F}))}))))}}]);