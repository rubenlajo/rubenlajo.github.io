(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1312:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withGuards=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),c=s(r),i=n(46),l=s(n(1313));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==o(t)&&"function"!=typeof t?e:t}t.withGuards=function(e){return function(t){var n=function(n){function r(){return u(this,r),f(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+o(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),a(r,[{key:"render",value:function(){var n=this;return(0,i.guards)((function(t){return e(n.props,t)})),c.default.createElement(t,this.props)}}]),r}(r.Component);return n.displayName=(0,l.default)(t),n}}},1313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.displayName||e.name||"Component"}},1315:function(e,t,n){"use strict";n(388);var o=n(129),a=n.n(o),r=n(0),c=n.n(r),i=n(1),l=n.n(i),s=n(1312),u=n(308),f=n(161);function m(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=function(e){var t=e.forRoles,n=e.onlyIf,o=e.user,a=e.children,i=m(e,["forRoles","onlyIf","user","children"]);return Object(u.a)(o,t,n)?function(e,t){return null===e?null:"string"==typeof e?e:r.Children.count(e)>1?c.a.createElement("div",null,r.Children.map(e,(function(e){return e?c.a.cloneElement(e,t):e}))):c.a.cloneElement(e,t)}(a,i):null};d.propTypes={forRoles:l.a.oneOfType([l.a.string,l.a.array]),onlyIf:l.a.func};var b=a()(f.a,Object(s.withGuards)((function(e,t){var n=e.forRoles,o=e.onlyIf;t((function(){return n||o}),"<Visible /> must receive at least the forRoles property or the onlyIf property.")})))(d);n(128);n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f.a}))},1325:function(e,t,n){"use strict";var o=n(0),a=n.n(o),r=n(5),c=n(52),i=n(1311),l=n(387);n(1326);function s(e){var t=e.centerSelected,n=e.materialId,i=e.availableLocations,l=e.fetchAvailableLoc,s=(e.onSelect,e.fetchNextAvailableLoc),u=e.disabled,f=e.excludeLocations;return Object(o.useEffect)((function(){var e=null===i.location&&i.hasMore&&!i.fetching,o=null!==i.location&&!i.fetching&&f&&f.length>0&&f.some((function(e){return e===i.location.locationId}));n&&t&&(e||o)&&l(t.centerId,n,{offset:i.offset,limit:i.limit})}),[t,i,u]),a.a.createElement("div",{className:"available-locations  mb-16 "},a.a.createElement(c.h,{title:r.b.formatMessage({id:"stock.pda.available-locations.title"}),subtitle:i.location?i.location.locationName:"-"}),a.a.createElement(c.f,{className:"btn-next",icon:"sga-icon-arrow-circle-right",onClick:function(){return s()},disabled:u||!i.hasMore}))}s.defaulProps={disabled:!1,excludeLocations:[]},t.a=Object(l.a)(Object(i.a)(s))},1326:function(e,t,n){},1345:function(e,t,n){},1350:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(5),c=n(162),i=n(52),l=n(1316),s=n(1309),u=n(387),f=n(1327),m=n(1311),d=n(1325),b=n(20);n(1345);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r,c,i=[],l=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(o=r.call(n)).done)&&(i.push(o.value),i.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}t.default=Object(u.a)(Object(f.a)(Object(m.a)((function(e){var t,n=e.match,u=e.centerSelected,f=e.fetchCenters,m=e.material,y=e.fetchMaterialById,h=e.fetchMaterialLocations,g=e.freeEntry,v=e.scanLocationFreeEntry,w=e.confirmScannedLocation,E=e.createWhMFreeEntry,O=e.warehouseMovementsCreated,k={PRINT:{key:"printMenu",title:r.b.formatMessage({id:"stock.pda.reference-detail-menu.print-menu.print"}),cancelLabel:r.b.formatMessage({id:"stock.pda.location-detail.menu.cancel"})}},j=p(Object(o.useState)(k.PRINT),2),I=j[0],M=j[1],S=p(Object(o.useState)(!1),2),C=S[0],L=S[1],N=p(Object(o.useState)(1),2),A=(N[0],N[1],p(Object(o.useState)(""),2)),_=A[0],P=A[1],T=p(Object(o.useState)(!1),2),x=T[0],R=T[1],F=p(Object(o.useState)(!1),2),G=F[0],J=F[1],B=p(Object(o.useState)(0),2),U=B[0],V=B[1];return Object(o.useEffect)((function(){u||f()}),[]),Object(o.useEffect)((function(){u&&y(u.centerId,n.params.materialId)}),[u]),Object(o.useEffect)((function(){m&&m.hasMore&&!m.locationsFetching&&h(u.centerId,m.materialId,{offset:0,limit:100})}),[m]),Object(o.useEffect)((function(){m&&m.locations&&m.locations.length>0&&m.hasMore&&!m.locationsFetching&&h(u.centerId,m.materialId,{offset:m.filters.offset+m.filters.limit,limit:m.filters.limit})}),[m]),Object(o.useEffect)((function(){g.scannedLocation&&(m.locations.some((function(e){return e.locationId===g.scannedLocation.locationId}))?J(!0):R(!0))}),[g]),Object(o.useEffect)((function(){null!==O&&c.b.push("/stock/pda/materials/".concat(n.params.materialId))}),[O]),m?a.a.createElement(l.a,{className:"mobile-free-entry-page",breadcrumb:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.page.title"}),onBack:function(){return c.b.push("/stock/pda/materials/".concat(n.params.materialId))},pageActions:null,pageActionsTitle:I.title,pageActionsCancelLabel:I.cancelLabel,onPageActionsClose:function(){return M(k.PRINT)},contentScroll:!1,onScan:Object(b.e)((function(e){e&&(v(u.centerId,e),V(0))}),100),resource:"warehouseMovmementExecFreeEntryPage"},a.a.createElement("div",{className:"group-1"},a.a.createElement(i.h,{title:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.reference"}),subtitle:m.materialId}),a.a.createElement(i.o,{title:m.local.location?m.local.location.locationName:"-",subtitle:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.locations"}),number:m.locations?m.locations.length:"00",icon:"sga-icon-info-circle",onActionClicked:function(){return L(!0)},disabledIcon:!m.locations||m.locations&&0===m.locations.length,disabledNumber:!0}),a.a.createElement(d.a,{materialId:m.materialId,onSelect:function(e){return v(u.centerId,e.locationName)}}),a.a.createElement(i.h,{title:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.location"}),subtitle:g.targetLocation?g.targetLocation.locationName:"-"})),a.a.createElement(s.a,{title:r.b.formatMessage({id:"stock.pda.reference-detail.secondary-locations"}),visible:C,onClose:function(){return L(!1)},onSearch:P,searchText:_},m.locations?m.locations.filter((function(e){return!_||e.locationCode.toLowerCase().includes(_.toLowerCase())})).map((function(e){return a.a.createElement(i.h,{key:e.locationCode,className:"material-detail_location-list-item",title:"".concat(e.stock," ").concat(r.b.formatMessage({id:"stock.pda.reference-detail.units"})),subtitle:e.locationCode})})):null),a.a.createElement(s.a,{title:a.a.createElement("span",{className:"warning-title"},a.a.createElement(r.a,{id:"stock.pda.warehouse-movement.free-entry.not-asigned-ref"})),visible:x,className:"location-not-asigned-pannel",showArrowClose:!1},a.a.createElement("p",null,a.a.createElement(r.a,{id:"stock.pda.warehouse-movement.free-entry.not-asigned-msg"})),a.a.createElement(i.e,{block:!0,orientation:"column"},a.a.createElement(i.d,{kind:"primary",onClick:function(){setTimeout((function(){R(!1)}),100),w(),J(!0)},label:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.continue"})}),a.a.createElement(i.d,{kind:"secondary",onClick:function(){return R(!1)},label:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.cancel"})}))),(t=U>0,a.a.createElement(s.a,{title:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.sanned-location"}),visible:G,showArrowClose:!1},a.a.createElement(i.h,{title:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.location"}),subtitle:g.targetLocation?g.targetLocation.locationName:"-"}),a.a.createElement(i.m,{key:JSON.stringify(g),label:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.units-to-traspase"}),onChange:function(e){return V(e)},value:U,errors:t?[]:[r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.incorrect-units"})]}),a.a.createElement(i.e,{block:!0,orientation:"column"},a.a.createElement(i.d,{kind:"primary",disabled:!t,onClick:function(){E(u.centerId,m.materialId,g.targetLocation.locationId,U),J(!1)},label:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.continue"})}),a.a.createElement(i.d,{kind:"secondary",onClick:function(){J(!1),V(0)},label:r.b.formatMessage({id:"stock.pda.warehouse-movement.free-entry.cancel"})}))))):null}))))}}]);