(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1309:function(e,t,a){"use strict";var r=a(5),n=a(0),o=a.n(n),s=a(52);a(1314);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,s,i=[],c=!0,l=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=o.call(a)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function l(e){var t=e.title,a=e.visible,c=e.onClose,l=e.closeIcon,u=e.children,d=e.showArrowClose,m=e.onSearch,f=e.searchText,b=e.className,h=e.onEdit,p=e.onDelete,g=e.footer,v=i(Object(n.useState)(!1),2),w=v[0],k=v[1];return o.a.createElement(o.a.Fragment,null,a?o.a.createElement("div",{className:"mobile-slide-panel_overlay",onClick:function(){d&&c()}}):null,o.a.createElement("div",{className:"mobile-slide-panel ".concat(b," ").concat(a?"is-open":"")},o.a.createElement("div",{className:"mobile-slide-panel_title ".concat(w?"search-active":"")},w?o.a.createElement(o.a.Fragment,null,o.a.createElement(s.s,{label:r.b.formatMessage({id:"shared.mobile-slide-panel.search"}),onChange:function(e){return m(e)},value:f}),o.a.createElement(s.i,{icon:"sga-icon-times",onClick:function(){k(!1),m("")},size:"size-xs"})):o.a.createElement(o.a.Fragment,null,d?o.a.createElement(s.i,{icon:l||"sga-icon-arrow-down",onClick:function(){c()},size:"size-s"}):null,o.a.createElement("div",{className:"title-text"},t),m?o.a.createElement(s.i,{icon:"sga-icon-search",onClick:function(){return k(!0)},size:"size-xs"}):null,h?o.a.createElement(s.i,{icon:"sga-icon-edit",onClick:function(){return h()},size:"size-xs"}):null,p?o.a.createElement(s.i,{icon:"sga-icon-trash",onClick:function(){return p()},size:"size-xs"}):null)),o.a.createElement("div",{className:"mobile-slide-panel_content"},u),g?o.a.createElement("footer",{className:"footer"},g):null))}l.defaultProps={className:"",visible:!1,onClose:function(){},closeIcon:null,searchText:"",title:"title",showArrowClose:!0,footer:null},t.a=l},1312:function(e,t,a){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withGuards=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=a(0),s=l(o),i=a(46),c=l(a(1313));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==r(t)&&"function"!=typeof t?e:t}t.withGuards=function(e){return function(t){var a=function(a){function o(){return u(this,o),d(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+r(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a),n(o,[{key:"render",value:function(){var a=this;return(0,i.guards)((function(t){return e(a.props,t)})),s.default.createElement(t,this.props)}}]),o}(o.Component);return a.displayName=(0,c.default)(t),a}}},1313:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.displayName||e.name||"Component"}},1314:function(e,t,a){},1315:function(e,t,a){"use strict";a(388);var r=a(129),n=a.n(r),o=a(0),s=a.n(o),i=a(1),c=a.n(i),l=a(1312),u=a(308),d=a(161);function m(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var f=function(e){var t=e.forRoles,a=e.onlyIf,r=e.user,n=e.children,i=m(e,["forRoles","onlyIf","user","children"]);return Object(u.a)(r,t,a)?function(e,t){return null===e?null:"string"==typeof e?e:o.Children.count(e)>1?s.a.createElement("div",null,o.Children.map(e,(function(e){return e?s.a.cloneElement(e,t):e}))):s.a.cloneElement(e,t)}(n,i):null};f.propTypes={forRoles:c.a.oneOfType([c.a.string,c.a.array]),onlyIf:c.a.func};var b=n()(d.a,Object(l.withGuards)((function(e,t){var a=e.forRoles,r=e.onlyIf;t((function(){return a||r}),"<Visible /> must receive at least the forRoles property or the onlyIf property.")})))(f);a(128);a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return d.a}))},1317:function(e,t,a){},1318:function(e,t,a){},1319:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(59),s=a(5),i=a(52),c=a(387),l=a(66),u=a.n(l),d=a(67),m=a.n(d),f=a(34),b=a(94),h=a(14),p=function(e){var t=Object(f.a)((function(e){return{userNames:b.i(e),userNamesLoading:b.j(e)}}),(function(e){return{fetchUserNames:function(t){return e(h.g(t))}}}))(e);return m()(u()(e,"withUserNames"))(t)},g=a(1311),v=a(1309),w=(a(1317),a(389));var k=function(e){var t=e.name,a=e.login,r=e.progress,o=e.selected,s=e.onSelect;return n.a.createElement("div",{className:"assign-user-list-item",onClick:function(){return s()}},n.a.createElement(w.a,{className:"assign-user-avatar",users:[{login:a,name:t}]}),n.a.createElement("div",{className:"assign-user-list-content"},n.a.createElement("div",{className:"assign-user-name"},t),n.a.createElement("div",{className:"assign-user-progress"},n.a.createElement(i.g,{label:r,color:"var(--color-neutral100, #B5B5B5)",backgroundColor:"var(--color-neutral600, #363636)",info:!0}))),n.a.createElement(i.n,{label:"",value:o}))},M=a(20);a(1318);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,s,i=[],c=!0,l=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=o.call(a)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}t.a=Object(c.a)(Object(g.a)(p((function(e){var t=e.visible,a=e.close,c=e.onSelect,l=e.centerSelected,u=e.fetchWarehouseMovementTechnicians,d=e.technicians,m=e.clearWarhouseMovementTechnicians,f=e.fetchUserNames,b=e.userNames,h=y(Object(r.useState)(""),2),p=h[0],g=h[1],w=y(Object(r.useState)(!1),2),E=w[0],O=w[1];Object(r.useEffect)((function(){l&&!d.requestDone&&!d.fetching&&t&&u(l.centerId)}),[l,d,t]);var j=Object(o.c)((function(e){return e.application.userNamesLoading}));return Object(r.useEffect)((function(){var e;if((null==d||null===(e=d.list)||void 0===e?void 0:e.length)>0){var t,a=[];null===(t=d.list)||void 0===t||t.forEach((function(e){e.technnician&&e.technnician.technnicianLogin&&a.push(e.technnician.technnicianLogin)})),(null==a?void 0:a.length)>0&&!j&&f(a)}}),[d]),n.a.createElement(v.a,{className:"assign-pannel",title:s.b.formatMessage({id:"stock.routes.pda.assign-warehouse-movement"}),visible:t,onClose:function(){a(),m()},searchText:p,onSearch:function(e){return g(e)}},t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"technicians-list"},d.list.filter((function(e){return!p||(e.technnician.technnicianName.toLowerCase().includes(p.toLowerCase())||e.technnician.technnicianLogin.toLowerCase().includes(p.toLowerCase()))})).map((function(e){var t=e.technnician,a=e.assignmentsTotalNum,r=e.assignmentsMaxNum;return n.a.createElement(k,{key:t.technnicianLogin,login:t.technnicianLogin,name:Object(M.k)(b,t.technnicianLogin)||"A A",progress:"".concat(a,"/").concat(r," ").concat(s.b.formatMessage({id:"stock.pda.work-order-detail.assign.executed-orders"})),selected:E&&E.technnicianLogin===t.technnicianLogin,onSelect:function(){return O(t)}})}))),0===d.list.length&&d.requestDone?n.a.createElement("div",{className:"no-technicians-found-msg"},n.a.createElement(s.a,{id:"stock.pda.work-order.assign.no-technicians-msg"})):null,n.a.createElement(i.d,{kind:"primary",disabled:!E,className:"technician-assign-btn",onClick:function(){c(E.technnicianLogin)},label:"Asignar"})))}))))},1321:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={LOCATION:"location",MATERIAL:"material"}},1339:function(e,t,a){},1354:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(391),s=a(162),i=a(5),c=a(52),l=a(387),u=a(1311),d=a(1316),m=a(1309),f=a(164),b=a(163),h=a(226),p=a(65);function g(e){var t=e.locations,a=(e.materials,e.creationDate),r=e.creationUser,o=e.assignedUser,s=e.closeDate,l=e.setShowReferences,u=e.warehouseMovementReferences,d=e.exec;return n.a.createElement(n.a.Fragment,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.location"}),subtitle:t&&t.length>0?t[0].locationName:null}),n.a.createElement(c.o,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.inventary.references-and-units"}),number:u.list.length,icon:"sga-icon-info-circle",onActionClicked:function(){return l(!0)},disabledNumber:!0}),d?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.creation-date"}),subtitle:Object(h.a)(a).format("es"===i.b.locale?p.e:p.f)}),n.a.createElement(b.a,null,n.a.createElement(f.a,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.creation-user"}),subtitle:r||"-"})),n.a.createElement(f.a,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.asigned-user"}),subtitle:o||"-"}))),n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.closed-date"}),subtitle:s?Object(h.a)(s).format("es"===i.b.locale?p.e:p.f):"-"})))}g.defaultProps={locations:[],materials:[],exec:!1};var v=g;function w(e){e.locations;var t=e.materials,a=e.creationDate,r=e.creationUser,o=e.assignedUser,s=e.closeDate,l=e.setShowLocations,u=e.warehouseMovementLocations;return n.a.createElement(n.a.Fragment,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.material"}),subtitle:t&&t.length>0?t[0].manufacturerReference:null}),n.a.createElement(c.o,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.inventary.locations-and-units"}),number:u.list.length,icon:"sga-icon-info-circle",onActionClicked:function(){return l(!0)},disabledIcon:0===u.list.length,disabledNumber:!0}),n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.creation-date"}),subtitle:Object(h.a)(a).format("es"===i.b.locale?p.e:p.f)}),n.a.createElement(b.a,null,n.a.createElement(f.a,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.creation-user"}),subtitle:r||"-"})),n.a.createElement(f.a,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.asigned-user"}),subtitle:o||"-"}))),n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.closed-date"}),subtitle:s?Object(h.a)(s).format("es"===i.b.locale?p.e:p.f):"-"}))}w.defaultProps={locations:[],materials:[]};var k=w,M=a(1321);function y(e){e.warehouseMovementId;var t=e.locations,a=e.materials,r=e.creationDate,o=e.creationUser,s=e.assignedUser,l=e.closeDate,u=e.setShowReferences,d=e.setShowLocations,m=e.transferType;return n.a.createElement(n.a.Fragment,null,m===M.a.LOCATION?n.a.createElement(n.a.Fragment,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.location"}),subtitle:t&&t.length>0?t[0].locationName:null}),n.a.createElement(c.o,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.traspase.references-and-units"}),number:a.length,icon:"sga-icon-info-circle",onActionClicked:function(){return u(!0)},disabledNumber:!0})):null,m===M.a.MATERIAL?n.a.createElement(n.a.Fragment,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.material"}),subtitle:a&&a.length>0?a[0].materialId:null}),n.a.createElement(c.o,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.traspase.locations-and-units"}),number:t.length,icon:"sga-icon-info-circle",onActionClicked:function(){return d(!0)},disabledNumber:!0})):null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.creation-date"}),subtitle:Object(h.a)(r).format("es"===i.b.locale?p.e:p.f)}),n.a.createElement(b.a,null,n.a.createElement(f.a,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.creation-user"}),subtitle:o||"-"})),n.a.createElement(f.a,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.asigned-user"}),subtitle:s||"-"}))),n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.closed-date"}),subtitle:l?Object(h.a)(l).format("es"===i.b.locale?p.e:p.f):"-"}))}y.defaultProps={locations:[],materials:[]};var E=y;function O(e){var t=e.locations,a=e.materials,r=e.creationUser,o=e.closeDate;return n.a.createElement(n.a.Fragment,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.material"}),subtitle:a&&a.length>0?a[0].materialId:null}),n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.location"}),subtitle:t&&t.length>0?t[0].locationName:null}),n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.creation-user"}),subtitle:r||"-"}),n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.closed-date"}),subtitle:o?Object(h.a)(o).format("es"===i.b.locale?p.e:p.f):"-"}))}O.defaultProps={locations:[],materials:[]};var j=O;function S(e){var t=e.purchaseOrderId,a=(e.locations,e.materials),r=e.creationDate,o=e.creationUser,s=e.assignedUser,l=e.closeDate,u=e.setShowReferences;return n.a.createElement(n.a.Fragment,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.purchaseOrderId"}),subtitle:t}),n.a.createElement(c.o,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.inventary.references-and-units"}),number:a.length,icon:"sga-icon-info-circle",onActionClicked:function(){return u(!0)},disabledNumber:!0}),n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.creation-date"}),subtitle:Object(h.a)(r).format("es"===i.b.locale?p.e:p.f)}),n.a.createElement(b.a,null,n.a.createElement(f.a,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.creation-user"}),subtitle:o||"-"})),n.a.createElement(f.a,null,n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.asigned-user"}),subtitle:s||"-"}))),n.a.createElement(c.h,{title:i.b.formatMessage({id:"stock.pda.work-order-detail.closed-date"}),subtitle:l?Object(h.a)(l).format("es"===i.b.locale?p.e:p.f):"-"}))}S.defaultProps={locations:[],materials:[]};var I=S,T=a(1319),N=a(20),C=a(390);a(1339);function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,s,i=[],c=!0,l=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(r=o.call(a)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}t.default=Object(o.a)(Object(l.a)(Object(u.a)((function(e){var t=e.match,a=e.centerSelected,o=e.fetchWarehouseMovement,l=e.warehouseMovement,u=e.assignWarehouseMovement,f=e.updateWarehouseMovemementStatus,b=e.fetchWarehouseMovementStatus,h=e.warehouseMovementsStatus,p=e.user,g=e.fetchWarehouseMovementReferences,w=e.warehouseMovementReferences,y=e.fetchWarehouseMovementLocations,O=e.warehouseMovementLocations,S=e.setRedirect,A=e.redirect,x=e.redirectToExec,R=e.resetWarehouseMovementStatusFlag,_=U(Object(r.useState)(!1),2),P=_[0],D=_[1],F=U(Object(r.useState)(!1),2),z=F[0],W=F[1],B=U(Object(r.useState)(!1),2),G=B[0],$=B[1],q=U(Object(r.useState)(!1),2),J=q[0],V=q[1],H=U(Object(r.useState)(""),2),K=H[0],Q=H[1];Object(r.useEffect)((function(){a&&(o(a.centerId,t.params.warehouseMovementId),0===h.length&&b()),A&&S(!1),A||R()}),[a]),Object(r.useEffect)((function(){l&&2===l.warehouseMovementType.warehouseMovementTypeId&&l.materials&&1===l.materials.length&&Q(M.a.MATERIAL),l&&2===l.warehouseMovementType.warehouseMovementTypeId&&l.locations&&1===l.locations.length&&Q(M.a.LOCATION)}),[l]),Object(r.useEffect)((function(){x&&X()}),[l]),Object(r.useEffect)((function(){var e=l&&(l.locations&&1===l.locations.length||5===l.warehouseMovementType.warehouseMovementTypeId)&&4!==l.warehouseMovementType.warehouseMovementTypeId;a&&w.haveMore&&!w.fetching&&e&&g(a.centerId,t.params.warehouseMovementId,{offset:w.offset,limit:w.limit})}),[a,w,l]),Object(r.useEffect)((function(){var e=l&&l.materials&&1===l.materials.length&&![3,4,5].some((function(e){return e===l.warehouseMovementType.warehouseMovementTypeId}));a&&O.haveMore&&!O.fetching&&e&&y(a.centerId,t.params.warehouseMovementId,{offset:O.offset,limit:O.limit})}),[a,O,l]);var X=function(){switch(l.warehouseMovementType.warehouseMovementTypeId){case 1:l.materials&&1===l.materials.length?s.b.push("/stock/pda/warehouse-movements-exec-inventary-materials/".concat(l.warehouseMovementId)):s.b.push("/stock/pda/warehouse-movements-exec-inventary-locations/".concat(l.warehouseMovementId));break;case 2:s.b.push("/stock/pda/warehouse-movements-exec-traspase/".concat(l.warehouseMovementId));break;case 3:case 4:break;case 5:s.b.push("/stock/pda/warehouse-movements-exec-locate/".concat(l.warehouseMovementId))}},Y=[{type:"primary",label:i.b.formatMessage({id:"stock.pda.work-order-detail.menu.execute"}),onClick:function(){l.assignedUsers&&0!==l.assignedUsers.length&&l.assignedUsers.some((function(e){return e.assignedUser===p.login}))?X():u(a.centerId,l.warehouseMovementId,p.login,l.warehouseMovementType.warehouseMovementTypeName,!0)},closeOnClick:!0,disabled:!Object(C.b)(p.roles,Object(C.a)("stockMovementExecute"))||l&&l.warehouseMovementStatus&&![1,2,4].some((function(e){return e===l.warehouseMovementStatus.warehouseMovementStatusId}))},{type:"secondary",label:i.b.formatMessage({id:"stock.pda.work-order-detail.menu.assign"}),onClick:function(){return $(!0)},closeOnClick:!0,disabled:!Object(C.b)(p.roles,Object(C.a)("stockMovementAssign"))||l&&l.warehouseMovementStatus&&![1,4].some((function(e){return e===l.warehouseMovementStatus.warehouseMovementStatusId}))},{type:"secondary",label:i.b.formatMessage({id:"stock.pda.work-order-detail.menu.cancel-order"}),onClick:function(){return V(!0)},closeOnClick:!1,disabled:!Object(C.b)(p.roles,Object(C.a)("stockMovmementCancel"))||l&&l.warehouseMovementStatus&&4!==l.warehouseMovementStatus.warehouseMovementStatusId}],Z=[{type:"primary",label:i.b.formatMessage({id:"stock.pda.work-order-detail.menu.cancel-order.confirm"}),onClick:function(){var e=h.find((function(e){return 5===e.warehouseMovementStatusId}));f(a.centerId,t.params.warehouseMovementId,e,l.warehouseMovementType.warehouseMovementTypeName),V(!1)},closeOnClick:!0},{type:"secondary",label:i.b.formatMessage({id:"stock.pda.work-order-detail.menu.back"}),onClick:function(){return V(!1)},closeOnClick:!1}],ee=null,te=l&&l.assignedUsers&&l.assignedUsers.length>0&&l.assignedUsers[0].assignedUser===p.login;ee=J?Z:Y,l&&l.progressPercent>0&&te&&(ee=null);var ae=l&&l.warehouseMovementStatus&&[1,2,4].some((function(e){return e===l.warehouseMovementStatus.warehouseMovementStatusId}));return n.a.createElement(d.a,{title:"Nº ".concat(t.params.warehouseMovementId),subtitle:"".concat(l?l.warehouseMovementType.warehouseMovementTypeName:"-"),breadcrumb:i.b.formatMessage({id:"stock.pda.work-order-detail.title"}),onBack:function(){return te?s.b.push("/stock/pda/warehouse-movements/assigned"):s.b.push("/stock/pda/warehouse-movements/pending")},pageActions:ee,pageActionsTitle:J?i.b.formatMessage({id:"stock.pda.work-order-detail.menu.cancel"}):i.b.formatMessage({id:"stock.pda.work-order-detail.menu.actions"}),resourceName:"warehouseMovementDetailPage"},l?n.a.createElement(c.g,{label:l.warehouseMovementStatus.warehouseMovementStatusName,stateColor:{1:"link",2:"info",3:"success",4:"link",5:"error"}[l.warehouseMovementStatus.warehouseMovementStatusId],info:!0}):null,n.a.createElement("div",{className:"detail-container"},function(){if(!l)return null;var e=Object(N.m)(l.creationUser||""),t=Object(N.m)(l.assignedUsers?l.assignedUsers[0].assignedUser:"");switch(l.warehouseMovementType.warehouseMovementTypeId){case 1:return l.locations&&l.locations.length>0?n.a.createElement(v,L({},l,{warehouseMovementReferences:w,creationUser:e,assignedUser:t,setShowReferences:D})):n.a.createElement(k,L({},l,{warehouseMovementLocations:O,creationUser:e,assignedUser:t,setShowLocations:W}));case 2:return n.a.createElement(E,L({},l,{warehouseMovementReferences:w,warehouseMovementLocations:O,creationUser:e,assignedUser:t,setShowReferences:D,setShowLocations:W,transferType:K}));case 3:return n.a.createElement(v,L({},l,{warehouseMovementReferences:w,creationUser:e,assignedUser:t,setShowReferences:D}));case 4:return n.a.createElement(j,L({},l,{warehouseMovementReferences:w,creationUser:e,assignedUser:t}));case 5:return n.a.createElement(I,L({},l,{warehouseMovementReferences:w,creationUser:e,assignedUser:t,setShowReferences:D}));default:return null}}()),ae&&l.progressPercent>0&&te?n.a.createElement(c.d,{kind:"primary",size:"size-s",onClick:function(){return X()},disabled:!Object(C.b)(p.roles,Object(C.a)("stockMovementExecute"))||l&&l.warehouseMovementStatus&&![1,2,4].some((function(e){return e===l.warehouseMovementStatus.warehouseMovementStatusId})),label:i.b.formatMessage({id:"stock.pda.work-order-detail.execute-order"})}):null,function(){if(!l)return null;var e="";switch(l.warehouseMovementType.warehouseMovementTypeId){case 1:e=i.b.formatMessage({id:"stock.pda.work-order-detail.inventary.references-and-units"});break;case 2:e=i.b.formatMessage({id:"stock.pda.work-order-detail.traspase.references-and-units"});break;case 3:e=i.b.formatMessage({id:"stock.pda.work-order-detail.references-and-units"});break;case 4:e=i.b.formatMessage({id:"stock.pda.work-order-detail.free-entry.locations"});break;case 5:e=i.b.formatMessage({id:"stock.pda.work-order-detail.references-and-units"})}return l.locations&&l.locations.length>0?n.a.createElement(m.a,{title:e,visible:P,onClose:function(){return D(!1)}},w.list&&w.list.map((function(e){switch(l.warehouseMovementType.warehouseMovementTypeId){case 1:case 3:return n.a.createElement(c.o,{key:e.material.materialId,className:"order-detail_references-list-item",number:e.sourceLocation.unitsToTransfer||e.sourceLocation.movementUnits||"-",title:e.material.manufacturerReference,subtitle:e.material.materialName.name});case 2:return 1===l.locations.length?n.a.createElement(c.p,{key:e.material.materialId,className:"order-detail_references-list-item",items:[{title:"".concat(Math.abs(e.sourceLocation.unitsToTransfer)," ").concat(i.b.formatMessage({id:"stock.pda.work-order-transfer-exec.units"})),subtitle:e.material.materialName.name},{title:i.b.formatMessage({id:"stock.pda.work-order-detail.destination"}),subtitle:e.targetLocations&&e.targetLocations.length>0?e.targetLocations.length>1?i.b.formatMessage({id:"stock.pda.work-order-detail.multiple"}):e.targetLocations[0].location.locationName:"-"}]}):null;default:return null}}))):null}(),function(){if(!l)return null;var e="";switch(l.warehouseMovementType.warehouseMovementTypeId){case 1:e=i.b.formatMessage({id:"stock.pda.work-order-detail.inventary.references-and-units"});break;case 2:e=i.b.formatMessage({id:"stock.pda.work-order-detail.traspase.references-and-units"});break;case 3:e=i.b.formatMessage({id:"stock.pda.work-order-detail.references-and-units"});break;case 4:e=i.b.formatMessage({id:"stock.pda.work-order-detail.free-entry.locations"});break;case 5:e=i.b.formatMessage({id:"stock.pda.work-order-detail.references-and-units"})}return l.materials&&l.materials.length>0?n.a.createElement(m.a,{title:e,visible:z,onClose:function(){return W(!1)}},O.list&&O.list.map((function(e){switch(l.warehouseMovementType.warehouseMovementTypeId){case 1:case 3:return n.a.createElement(c.o,{key:e.sourceLocation.location.locationId,className:"order-detail_references-list-item",number:e.sourceLocation.movementUnits||"-",title:e.sourceLocation.location.locationName,subtitle:i.b.formatMessage({id:"stock.pda.work-order-detail.location"})});case 2:return 1===l.materials.length?n.a.createElement(c.p,{key:e.sourceLocation.location.locationId,className:"order-detail_references-list-item",items:e.targetLocations&&e.targetLocations.length>0?[{title:"".concat(Math.abs(e.sourceLocation.unitsToTransfer)," ").concat(i.b.formatMessage({id:"stock.pda.work-order-transfer-exec.units"})),subtitle:e.sourceLocation.location.locationName},{title:i.b.formatMessage({id:"stock.pda.work-order-detail.destination"}),subtitle:e.targetLocations.length>1?i.b.formatMessage({id:"stock.pda.work-order-detail.multiple"}):e.targetLocations[0].location.locationName}]:[{title:i.b.formatMessage({id:"stock.pda.work-order-transfer-exec.description"}),subtitle:e.sourceLocation.location.locationName},{title:i.b.formatMessage({id:"stock.pda.work-order-detail.units"}),subtitle:Math.abs(e.sourceLocation.unitsToTransfer)}]}):null;default:return null}}))):null}(),n.a.createElement(T.a,{visible:G,close:function(){return $(!1)},onSelect:function(e){u(a.centerId,t.params.warehouseMovementId,e,l.warehouseMovementType.warehouseMovementTypeName,!1),$(!1)}}))}))))}}]);